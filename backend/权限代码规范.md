# æƒé™ä»£ç è§„èŒƒ

## ğŸ“Œ ç»Ÿä¸€è§„èŒƒ

**æ‰€æœ‰æƒé™ä»£ç å¿…é¡»ä¸ `backend/prisma/seeds/permissions.seed.ts` ä¸­çš„å®šä¹‰ä¿æŒä¸€è‡´ï¼**

## âš ï¸ å¸¸è§é”™è¯¯

### å•å¤æ•°ä¸ä¸€è‡´

| âŒ é”™è¯¯ï¼ˆå¤æ•°ï¼‰ | âœ… æ­£ç¡®ï¼ˆå•æ•°ï¼‰ | è¯´æ˜ |
|----------------|----------------|------|
| `completions:view` | `completion:view` | ç»“è¯¾ç”³è¯·æŸ¥çœ‹æƒé™ |
| `completions:review` | `completion:review` | ç»“è¯¾ç”³è¯·å®¡æ‰¹æƒé™ |

**è§„åˆ™**ï¼šæ¨¡å—åç»Ÿä¸€ä½¿ç”¨**å•æ•°å½¢å¼**

---

## ğŸ“‹ å®Œæ•´æƒé™ä»£ç åˆ—è¡¨

### é¦–é¡µ
- `dashboard:view` - æŸ¥çœ‹é¦–é¡µ

### èµ„è®¯ç®¡ç†
- `news:view` - æŸ¥çœ‹èµ„è®¯
- `news:create` - åˆ›å»ºèµ„è®¯
- `news:edit` - ç¼–è¾‘èµ„è®¯
- `news:delete` - åˆ é™¤èµ„è®¯
- `news:publish` - å‘å¸ƒèµ„è®¯

### æ ¡å‹ç”Ÿæ´»
- `associations:view` - æŸ¥çœ‹åä¼š
- `associations:create` - åˆ›å»ºåä¼š
- `associations:edit` - ç¼–è¾‘åä¼š
- `associations:delete` - åˆ é™¤åä¼š
- `associations:join-requests` - åä¼šåŠ å…¥ç”³è¯·å®¡æ‰¹ â­
- `activities:view` - æŸ¥çœ‹æ´»åŠ¨
- `activities:create` - åˆ›å»ºæ´»åŠ¨
- `activities:edit` - ç¼–è¾‘æ´»åŠ¨
- `activities:delete` - åˆ é™¤æ´»åŠ¨

### è¯¾ç¨‹ç®¡ç†
- `courses:view` - æŸ¥çœ‹è¯¾ç¨‹
- `courses:create` - åˆ›å»ºè¯¾ç¨‹
- `courses:edit` - ç¼–è¾‘è¯¾ç¨‹
- `courses:delete` - åˆ é™¤è¯¾ç¨‹
- `courses:publish` - å‘å¸ƒè¯¾ç¨‹
- `courses:approve` - å®¡æ‰¹è¯¾ç¨‹
- `courses:assign-teacher` - åˆ†é…è€å¸ˆ
- `chapters:view` - æŸ¥çœ‹ç« èŠ‚
- `chapters:manage` - ç®¡ç†ç« èŠ‚

### ç”¨æˆ·ç®¡ç†
- `users:view` - æŸ¥çœ‹ç”¨æˆ·
- `users:create` - åˆ›å»ºç”¨æˆ·
- `users:edit` - ç¼–è¾‘ç”¨æˆ·
- `users:delete` - åˆ é™¤ç”¨æˆ·
- `users:status` - ä¿®æ”¹ç”¨æˆ·çŠ¶æ€
- `advisors:view` - æŸ¥çœ‹è¯¾ç¨‹é¡¾é—®
- `advisors:assign` - åˆ†é…è¯¾ç¨‹é¡¾é—®

### ä¼ä¸šç®¡ç†
- `organizations:view` - æŸ¥çœ‹ä¼ä¸š
- `organizations:create` - åˆ›å»ºä¼ä¸š
- `organizations:edit` - ç¼–è¾‘ä¼ä¸š
- `organizations:delete` - åˆ é™¤ä¼ä¸š
- `organizations:credits` - ç®¡ç†ä¼ä¸šå­¦åˆ†
- `organizations:employees` - ç®¡ç†ä¼ä¸šå‘˜å·¥

### æŠ¥åç®¡ç†
- `enrollments:view` - æŸ¥çœ‹æŠ¥å
- `enrollments:requests` - å¤„ç†æŠ¥åç”³è¯·
- `enrollments:refunds` - å¤„ç†é€€è¯¾ç”³è¯·
- `enrollments:checkin` - ç­¾åˆ°ç®¡ç†
- `enrollments:evaluation` - è¯„ä»·ç®¡ç†
- `enrollments:gifts` - è¯¾ç¨‹èµ é€ç®¡ç†

### è¯¾ä»¶ç®¡ç†
- `courseware:view` - æŸ¥çœ‹è¯¾ä»¶
- `courseware:upload` - ä¸Šä¼ è¯¾ä»¶
- `courseware:delete` - åˆ é™¤è¯¾ä»¶

### å®¡æ‰¹ç®¡ç†
- `approvals:view` - æŸ¥çœ‹å®¡æ‰¹ç®¡ç†èœå• â­
- `associations:join-requests` - åä¼šåŠ å…¥ç”³è¯·å®¡æ‰¹ â­
- `trials:view` - è¯•å¬æŠ¥åç”³è¯·å®¡æ‰¹ â­
- `courses:approve` - å®¡æ‰¹è¯¾ç¨‹
- `credit-requests:review` - å®¡æ‰¹å­¦åˆ†ç”³è¯·
- `completion:review` - å®¡æ‰¹ç»“è¯¾ç”³è¯·
- `refunds:view` - æŸ¥çœ‹å’Œå®¡æ‰¹é€€è¯¾ç”³è¯· â­

### å­¦ä¹ æˆæœ
- `achievements:view` - æŸ¥çœ‹å­¦ä¹ æˆæœ
- `achievements:issue` - å‘æ”¾è¯ä¹¦
- `achievements:batch-issue` - æ‰¹é‡å‘æ”¾è¯ä¹¦
- `achievements:students` - æŸ¥çœ‹å­¦å‘˜æˆæœ

### ç»“è¯¾ç”³è¯·ï¼ˆæ³¨æ„ï¼šæ˜¯ completion å•æ•°ï¼ï¼‰
- `completion:view` - æŸ¥çœ‹ç»“è¯¾ç”³è¯· â­
- `completion:create` - å‘èµ·ç»“è¯¾ç”³è¯· â­
- `completion:review` - å®¡æ‰¹ç»“è¯¾ç”³è¯· â­
- `completion:cancel` - å–æ¶ˆç»“è¯¾ç”³è¯· â­

### å­¦åˆ†ç”³è¯·
- `credit-requests:view` - æŸ¥çœ‹å­¦åˆ†ç”³è¯·
- `credit-requests:create` - åˆ›å»ºå­¦åˆ†ç”³è¯·
- `credit-requests:review` - å®¡æ‰¹å­¦åˆ†ç”³è¯·
- `credit-requests:cancel` - å–æ¶ˆå­¦åˆ†ç”³è¯·
- `credits:manage` - ç®¡ç†å­¦åˆ†

### ç³»ç»Ÿè®¾ç½®
- `settings:view` - æŸ¥çœ‹ç³»ç»Ÿè®¾ç½®
- `settings:edit` - ç¼–è¾‘ç³»ç»Ÿè®¾ç½®
- `permissions:manage` - ç®¡ç†æƒé™é…ç½®

### ç»Ÿè®¡
- `statistics:view` - æŸ¥çœ‹ç»Ÿè®¡
- `statistics:export` - å¯¼å‡ºç»Ÿè®¡æ•°æ®

### æ•™å¸ˆåŠŸèƒ½
- `my-courses:view` - æŸ¥çœ‹æˆ‘çš„è¯¾ç¨‹
- `my-students:view` - æŸ¥çœ‹æˆ‘çš„å­¦å‘˜

---

## ğŸ” éœ€è¦æ›´æ–°çš„æ–‡ä»¶

å½“æ·»åŠ æˆ–ä¿®æ”¹æƒé™ä»£ç æ—¶ï¼Œéœ€è¦åŒæ­¥æ›´æ–°ä»¥ä¸‹æ–‡ä»¶ï¼š

1. **åç«¯æƒé™å®šä¹‰**ï¼ˆå¿…é¡»ï¼‰:
   - `backend/prisma/seeds/permissions.seed.ts`

2. **å‰ç«¯èœå•é…ç½®**:
   - `admin-frontend/src/config/permissions.ts`
   - `backend/src/modules/permissions/menu.config.ts`

3. **åç«¯è·¯ç”±å®ˆå«**ï¼ˆå¦‚éœ€è¦ï¼‰:
   - å„æ¨¡å—çš„ Controllerï¼ˆä½¿ç”¨ `@Roles()` è£…é¥°å™¨ï¼‰

---

## âœ… æ£€æŸ¥æ¸…å•

æ·»åŠ æ–°æƒé™æ—¶ï¼Œè¯·ç¡®è®¤ï¼š

- [ ] åœ¨ `permissions.seed.ts` ä¸­å®šä¹‰äº†æƒé™
- [ ] åœ¨ç›¸åº”è§’è‰²çš„ `rolePermissions` ä¸­æ·»åŠ äº†æƒé™ä»£ç 
- [ ] å‰ç«¯ `permissions.ts` ä½¿ç”¨ç›¸åŒçš„æƒé™ä»£ç 
- [ ] åç«¯ `menu.config.ts` ä½¿ç”¨ç›¸åŒçš„æƒé™ä»£ç 
- [ ] æƒé™ä»£ç æ ¼å¼ï¼š`æ¨¡å—å:æ“ä½œ`ï¼ˆæ¨¡å—åç”¨å•æ•°ï¼‰

---

## ğŸ› è°ƒè¯•æŠ€å·§

å¦‚æœæƒé™ä¸ç”Ÿæ•ˆï¼Œæ£€æŸ¥ï¼š

1. **åç«¯æ—¥å¿—**ï¼šæŸ¥çœ‹è­¦å‘Šä¿¡æ¯
   ```
   è­¦å‘Šï¼šæƒé™ä»£ç  completions:view ä¸å­˜åœ¨
   ```

2. **æµè§ˆå™¨æ§åˆ¶å°**ï¼šæŸ¥çœ‹ä¿å­˜æ—¶çš„æ—¥å¿—
   ```
   ğŸ” ä¿å­˜æƒé™é…ç½®:
     - å®Œå…¨é€‰ä¸­çš„èŠ‚ç‚¹: [...]
     - åˆå¹¶åçš„æƒé™: [...]
   ```

3. **æ•°æ®åº“éªŒè¯**ï¼š
   ```sql
   SELECT * FROM Permission WHERE code LIKE '%completion%';
   SELECT * FROM RolePermission WHERE role = 'TEACHER';
   ```

