# æƒé™ç³»ç»Ÿå®ç°æ–¹æ¡ˆ

## ğŸ“‹ è§’è‰²æƒé™å¯¹ç…§è¡¨

### è§’è‰²æ˜ å°„

| æƒé™è¡¨è§’è‰² | ç³»ç»Ÿè§’è‰² | è‹±æ–‡æ ‡è¯† | è¯´æ˜ |
|-----------|---------|---------|------|
| è€å¸ˆ | æ•™å¸ˆ | `TEACHER` | ç®¡ç†è‡ªå·±çš„ä¼ä¸š/å­¦å‘˜ |
| æ•™åŠ¡ | æ•™åŠ¡äººå‘˜ | `STAFF` | ç®¡ç†è¯¾ç¨‹ã€èµ„è®¯ã€è¯¾ä»¶ |
| æ€»ç®¡ç†å‘˜ | ç®¡ç†å‘˜ | `ADMIN` | å…¨éƒ¨æƒé™ |

---

## ğŸ¯ å„è§’è‰²æƒé™è¯¦ç»†è®¾è®¡

### 1. è€å¸ˆ (TEACHER)

#### âœ… æ ¸å¿ƒå¯è§èŒƒå›´
- è‡ªå·±ç®¡ç†çš„ç›¸å…³ä¼ä¸š/å­¦å‘˜ä¿¡æ¯

#### âœ… å…³é”®æ“ä½œæƒé™

**1.1 ä¸ºä¼ä¸š/å­¦å‘˜æ³¨å†Œ**
- **æ¥å£**: `POST /api/users/register-student`
- **æƒé™**: `@Roles('TEACHER', 'ADMIN')`
- **åŠŸèƒ½**: 
  - åˆ›å»ºå­¦å‘˜è´¦å·
  - ç»‘å®šåˆ°å½“å‰æ•™å¸ˆ
  - è®°å½•æ³¨å†Œæ¥æº

**1.2 ä¸‹è½½ã€ç»Ÿè®¡è‡ªå·±å­¦å‘˜çš„ä¸Šè¯¾è®°å½•**
- **æ¥å£**: 
  - `GET /api/reports/my-students-attendance` (è‡ªå·±å­¦å‘˜çš„è€ƒå‹¤)
  - `GET /api/reports/my-students-courses` (è‡ªå·±å­¦å‘˜çš„è¯¾ç¨‹)
- **æƒé™**: `@Roles('TEACHER', 'ADMIN')`
- **åŠŸèƒ½**:
  - åªèƒ½æŸ¥çœ‹è‡ªå·±ç®¡ç†çš„å­¦å‘˜æ•°æ®
  - å¯¼å‡º Excel æŠ¥è¡¨

**1.3 æäº¤å­¦å‘˜åŸºç¡€å­¦åˆ†åˆ†é…ç”³è¯·åˆ°æ€»ç®¡ç†å‘˜å®¡æ‰¹**
- **æ¥å£**: `POST /api/credit-requests/create`
- **æƒé™**: `@Roles('TEACHER', 'ADMIN')`
- **æµç¨‹**:
  ```
  æ•™å¸ˆæäº¤ â†’ å¾…å®¡æ‰¹ â†’ ç®¡ç†å‘˜å®¡æ‰¹ â†’ è‡ªåŠ¨åˆ†é…å­¦åˆ†
  ```

#### âŒ æƒé™é™åˆ¶

**1. ä¸èƒ½ç›´æ¥åˆ†é…å­¦åˆ†**
- ç§»é™¤ `POST /api/credits/allocate` çš„ `TEACHER` æƒé™
- åªèƒ½é€šè¿‡å®¡æ‰¹æµç¨‹é—´æ¥åˆ†é…

**2. æ— è¯¾ç¨‹å†™æƒé™**
- ä¸èƒ½åˆ›å»º/ç¼–è¾‘/åˆ é™¤è¯¾ç¨‹
- åªèƒ½æŸ¥çœ‹è¯¾ç¨‹åˆ—è¡¨

---

### 2. æ•™åŠ¡ (STAFF)

#### âœ… æ ¸å¿ƒå¯è§èŒƒå›´
- å­¦æ ¡èµ„è®¯ã€è¯¾ç¨‹ã€ä¸Šè¯¾è¯¾ä»¶ã€ä¸Šè¯¾è¯„åˆ†æ•°æ®

#### âœ… å…³é”®æ“ä½œæƒé™

**2.1 ä¸Šæ¶å­¦æ ¡èµ„è®¯ã€è¯¾ç¨‹ä¿¡æ¯ã€ä¸Šè¯¾è¯¾ä»¶**
- **æ¥å£**:
  - `POST /api/news` (å‘å¸ƒèµ„è®¯)
  - `PUT /api/news/:id` (ç¼–è¾‘èµ„è®¯)
  - `POST /api/courses` (åˆ›å»ºè¯¾ç¨‹)
  - `PUT /api/courses/:id` (ç¼–è¾‘è¯¾ç¨‹)
  - `POST /api/materials` (ä¸Šä¼ è¯¾ä»¶)
- **æƒé™**: `@Roles('STAFF', 'ADMIN')`

**2.2 ä¸‹è½½ä¸Šè¯¾è¯„åˆ†æŠ¥è¡¨**
- **æ¥å£**:
  - `GET /api/reports/course-evaluations` (è¯¾ç¨‹è¯„ä»·æŠ¥è¡¨)
  - `GET /api/reports/attendance-summary` (è€ƒå‹¤æ±‡æ€»)
- **æƒé™**: `@Roles('STAFF', 'ADMIN')`

**2.3 è®¾ç½®æ¯é—¨è¯¾ç¨‹çš„å­¦åˆ†æ ‡å‡†**
- **æ¥å£**: `PUT /api/courses/:id/credit-standard`
- **æƒé™**: `@Roles('STAFF', 'ADMIN')`
- **å­—æ®µ**:
  ```typescript
  {
    normalCredit: 1,      // å¹³æ—¶è¯¾ç¨‹å­¦åˆ†
    masterCredit: 2,      // å¤§å¸ˆè¯¾å­¦åˆ†
    creditType: 'NORMAL' | 'MASTER'
  }
  ```

#### âŒ æƒé™é™åˆ¶
- æ— æ˜ç¡®é™åˆ¶

---

### 3. æ€»ç®¡ç†å‘˜ (ADMIN)

#### âœ… æ ¸å¿ƒå¯è§èŒƒå›´
- æ‰€æœ‰ä¿¡æ¯ï¼ˆè¯¾ç¨‹ã€æŠ¥åäººæ•°ã€ä¼ä¸š/å­¦å‘˜ä¿¡æ¯ç­‰ï¼‰

#### âœ… å…³é”®æ“ä½œæƒé™

**3.1 è¯¾ç¨‹ä¸Šæ¶å®¡æ‰¹**
- **æ¥å£**:
  - `GET /api/courses/pending` (å¾…å®¡æ‰¹è¯¾ç¨‹åˆ—è¡¨)
  - `PUT /api/courses/:id/approve` (å®¡æ‰¹é€šè¿‡)
  - `PUT /api/courses/:id/reject` (å®¡æ‰¹æ‹’ç»)
- **æƒé™**: `@Roles('ADMIN')`
- **çŠ¶æ€æµè½¬**:
  ```
  DRAFT â†’ æäº¤å®¡æ‰¹ â†’ PENDING_REVIEW â†’ å®¡æ‰¹ â†’ PUBLISHED/DRAFT
  ```

**3.2 ä¼ä¸š/å­¦å‘˜å­¦åˆ†å®¡æ‰¹**
- **æ¥å£**:
  - `GET /api/credit-requests` (å­¦åˆ†ç”³è¯·åˆ—è¡¨)
  - `PUT /api/credit-requests/:id/approve` (å®¡æ‰¹é€šè¿‡)
  - `PUT /api/credit-requests/:id/reject` (å®¡æ‰¹æ‹’ç»)
- **æƒé™**: `@Roles('ADMIN')`

#### âŒ æƒé™é™åˆ¶
- æ— é™åˆ¶

---

## ğŸ—„ï¸ æ–°å¢æ•°æ®åº“æ¨¡å‹

### 1. å­¦åˆ†ç”³è¯·è¡¨ (CreditRequest)

```prisma
model CreditRequest {
  id          String   @id @default(uuid())
  
  // ç”³è¯·ä¿¡æ¯
  teacherId   String   // æäº¤æ•™å¸ˆ
  teacher     User     @relation("TeacherCreditRequests", fields: [teacherId], references: [id])
  
  userId      String   // ç›®æ ‡å­¦å‘˜/ä¼ä¸š
  user        User     @relation("UserCreditRequests", fields: [userId], references: [id])
  
  amount      Int      // ç”³è¯·å­¦åˆ†æ•°é‡
  reason      String   @db.Text  // ç”³è¯·ç†ç”±
  
  // å®¡æ‰¹ä¿¡æ¯
  status      CreditRequestStatus  @default(PENDING)
  reviewerId  String?  // å®¡æ‰¹äºº
  reviewer    User?    @relation("ReviewerCreditRequests", fields: [reviewerId], references: [id])
  reviewRemark String? @db.Text  // å®¡æ‰¹å¤‡æ³¨
  reviewTime  DateTime?
  
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  
  @@index([teacherId])
  @@index([userId])
  @@index([status])
  @@map("credit_requests")
}

enum CreditRequestStatus {
  PENDING    // å¾…å®¡æ‰¹
  APPROVED   // å·²é€šè¿‡
  REJECTED   // å·²æ‹’ç»
}
```

### 2. æ•™å¸ˆ-å­¦å‘˜å…³ç³»è¡¨ (TeacherStudent)

```prisma
model TeacherStudent {
  id          String   @id @default(uuid())
  teacherId   String   // æ•™å¸ˆID
  teacher     User     @relation("TeacherRelations", fields: [teacherId], references: [id])
  studentId   String   // å­¦å‘˜ID
  student     User     @relation("StudentRelations", fields: [studentId], references: [id])
  
  // å…³ç³»ä¿¡æ¯
  registeredBy String  // æ³¨å†Œæ–¹å¼: TEACHER_REGISTER(æ•™å¸ˆæ³¨å†Œ) | SELF_REGISTER(è‡ªå·±æ³¨å†Œåç»‘å®š)
  bindTime    DateTime @default(now())
  
  createdAt   DateTime @default(now())
  
  @@unique([teacherId, studentId])
  @@index([teacherId])
  @@index([studentId])
  @@map("teacher_students")
}
```

### 3. è¯¾ç¨‹å­¦åˆ†æ ‡å‡†å­—æ®µï¼ˆæ·»åŠ åˆ° Course æ¨¡å‹ï¼‰

```prisma
model Course {
  // ... ç°æœ‰å­—æ®µ ...
  
  // å­¦åˆ†æ ‡å‡†
  creditType     CreditType  @default(NORMAL)  // è¯¾ç¨‹ç±»å‹
  normalCredit   Int         @default(1)       // æ™®é€šè¯¾ç¨‹å­¦åˆ†
  masterCredit   Int         @default(2)       // å¤§å¸ˆè¯¾å­¦åˆ†
  
  // å®¡æ‰¹çŠ¶æ€ï¼ˆæ–°å¢ï¼‰
  approvalStatus ApprovalStatus @default(DRAFT)
  
  // ... å…¶ä»–å­—æ®µ ...
}

enum CreditType {
  NORMAL    // å¹³æ—¶è¯¾ç¨‹
  MASTER    // å¤§å¸ˆè¯¾
}

enum ApprovalStatus {
  DRAFT           // è‰ç¨¿
  PENDING_REVIEW  // å¾…å®¡æ‰¹
  APPROVED        // å·²é€šè¿‡
  REJECTED        // å·²æ‹’ç»
}
```

---

## ğŸ”§ éœ€è¦æ–°å¢çš„æ¨¡å—å’Œæ¥å£

### 1. å­¦åˆ†ç”³è¯·æ¨¡å— (credit-requests)

**åˆ›å»ºæ¨¡å—**:
```bash
cd backend/src/modules
nest g module credit-requests
nest g controller credit-requests
nest g service credit-requests
```

**ä¸»è¦æ¥å£**:

#### æ•™å¸ˆç«¯
```typescript
// æäº¤å­¦åˆ†ç”³è¯·
POST /api/credit-requests
@Roles('TEACHER', 'ADMIN')
Body: {
  userId: string,      // å­¦å‘˜ID
  amount: number,      // å­¦åˆ†æ•°é‡
  reason: string       // ç”³è¯·ç†ç”±
}

// æŸ¥çœ‹è‡ªå·±çš„ç”³è¯·è®°å½•
GET /api/credit-requests/my
@Roles('TEACHER')

// å–æ¶ˆç”³è¯·
DELETE /api/credit-requests/:id
@Roles('TEACHER')
```

#### ç®¡ç†å‘˜ç«¯
```typescript
// è·å–å¾…å®¡æ‰¹åˆ—è¡¨
GET /api/credit-requests?status=PENDING
@Roles('ADMIN')

// å®¡æ‰¹é€šè¿‡
PUT /api/credit-requests/:id/approve
@Roles('ADMIN')
Body: { remark?: string }

// å®¡æ‰¹æ‹’ç»
PUT /api/credit-requests/:id/reject
@Roles('ADMIN')
Body: { remark: string }
```

---

### 2. æ•™å¸ˆ-å­¦å‘˜ç®¡ç†æ¨¡å— (teacher-students)

**åˆ›å»ºæ¨¡å—**:
```bash
cd backend/src/modules
nest g module teacher-students
nest g controller teacher-students
nest g service teacher-students
```

**ä¸»è¦æ¥å£**:

```typescript
// æ•™å¸ˆä¸ºå­¦å‘˜æ³¨å†Œ
POST /api/teacher-students/register
@Roles('TEACHER', 'ADMIN')
Body: {
  nickname: string,
  phone?: string,
  company?: string,
  position?: string
}

// ç»‘å®šå·²æœ‰å­¦å‘˜
POST /api/teacher-students/bind
@Roles('TEACHER', 'ADMIN')
Body: {
  userId: string  // å­¦å‘˜IDæˆ–æ‰‹æœºå·
}

// è·å–æˆ‘çš„å­¦å‘˜åˆ—è¡¨
GET /api/teacher-students/my-students
@Roles('TEACHER')

// è§£ç»‘å­¦å‘˜
DELETE /api/teacher-students/:studentId
@Roles('TEACHER', 'ADMIN')
```

---

### 3. è¯¾ç¨‹å®¡æ‰¹åŠŸèƒ½ï¼ˆæ‰©å±•ç°æœ‰ courses æ¨¡å—ï¼‰

**æ–°å¢æ¥å£**:

```typescript
// æäº¤å®¡æ‰¹
PUT /api/courses/:id/submit-review
@Roles('STAFF', 'ADMIN')

// è·å–å¾…å®¡æ‰¹è¯¾ç¨‹
GET /api/courses/pending-review
@Roles('ADMIN')

// å®¡æ‰¹é€šè¿‡
PUT /api/courses/:id/approve
@Roles('ADMIN')
Body: { remark?: string }

// å®¡æ‰¹æ‹’ç»
PUT /api/courses/:id/reject
@Roles('ADMIN')
Body: { remark: string }

// è®¾ç½®å­¦åˆ†æ ‡å‡†
PUT /api/courses/:id/credit-standard
@Roles('STAFF', 'ADMIN')
Body: {
  creditType: 'NORMAL' | 'MASTER',
  normalCredit: number,
  masterCredit: number
}
```

---

### 4. æ•™å¸ˆæŠ¥è¡¨æ¨¡å—ï¼ˆæ‰©å±•ç°æœ‰ reports æ¨¡å—ï¼‰

**æ–°å¢æ¥å£**:

```typescript
// æˆ‘çš„å­¦å‘˜è€ƒå‹¤æŠ¥è¡¨
GET /api/reports/my-students-attendance
@Roles('TEACHER')
Query: {
  courseId?: string,
  startDate?: string,
  endDate?: string,
  export?: boolean  // æ˜¯å¦å¯¼å‡º Excel
}

// æˆ‘çš„å­¦å‘˜è¯¾ç¨‹æŠ¥è¡¨
GET /api/reports/my-students-courses
@Roles('TEACHER')
Query: {
  studentId?: string,
  export?: boolean
}

// å­¦å‘˜å­¦åˆ†æ˜ç»†
GET /api/reports/student-credits/:userId
@Roles('TEACHER', 'ADMIN')
```

---

## ğŸ” æƒé™æ§åˆ¶å®ç°

### 1. ä¿®æ”¹ç°æœ‰ credits.controller.ts

```typescript
@Controller('credits')
export class CreditsController {
  // å……å€¼å­¦åˆ† - åªå…è®¸ç®¡ç†å‘˜
  @UseGuards(RolesGuard)
  @Roles('ADMIN')  // â† ç§»é™¤ STAFF å’Œ TEACHER
  @Post('allocate')
  async allocate(@Body() data: any) {
    return this.creditsService.allocate(data);
  }
  
  // å…¶ä»–æ–¹æ³•...
}
```

### 2. ä¿®æ”¹ç°æœ‰ courses.controller.ts

```typescript
@Controller('courses')
export class CoursesController {
  // åˆ›å»ºè¯¾ç¨‹ - åªå…è®¸æ•™åŠ¡å’Œç®¡ç†å‘˜
  @UseGuards(RolesGuard)
  @Roles('STAFF', 'ADMIN')  // â† ç¡®ä¿æ²¡æœ‰ TEACHER
  @Post()
  async create(@Body() data: CreateCourseDto) {
    return this.coursesService.create(data);
  }
  
  // ç¼–è¾‘è¯¾ç¨‹ - åªå…è®¸æ•™åŠ¡å’Œç®¡ç†å‘˜
  @UseGuards(RolesGuard)
  @Roles('STAFF', 'ADMIN')
  @Put(':id')
  async update(@Param('id') id: string, @Body() data: UpdateCourseDto) {
    return this.coursesService.update(id, data);
  }
}
```

### 3. æ•°æ®èŒƒå›´è¿‡æ»¤

**æ•™å¸ˆåªèƒ½æŸ¥çœ‹è‡ªå·±çš„å­¦å‘˜æ•°æ®**:

```typescript
// reports.service.ts
async getMyStudentsAttendance(teacherId: string, query: any) {
  // 1. è·å–æ•™å¸ˆçš„å­¦å‘˜åˆ—è¡¨
  const students = await this.prisma.teacherStudent.findMany({
    where: { teacherId },
    select: { studentId: true },
  });
  
  const studentIds = students.map(s => s.studentId);
  
  // 2. åªæŸ¥è¯¢è¿™äº›å­¦å‘˜çš„è€ƒå‹¤æ•°æ®
  return this.prisma.checkin.findMany({
    where: {
      enrollment: {
        userId: { in: studentIds },
      },
      // ... å…¶ä»–ç­›é€‰æ¡ä»¶
    },
  });
}
```

---

## ğŸ“Š å­¦å‘˜å­¦åˆ†åˆ†é…æµç¨‹

### æµç¨‹å›¾

```
[æ•™å¸ˆ] 
  â†“ 1. ä¸ºå­¦å‘˜æ³¨å†Œ / ç»‘å®šå­¦å‘˜
[æ•™å¸ˆ-å­¦å‘˜å…³ç³»å»ºç«‹]
  â†“ 2. æäº¤å­¦åˆ†ç”³è¯·
[å­¦åˆ†ç”³è¯·] (çŠ¶æ€: PENDING)
  â†“ 3. ç®¡ç†å‘˜å®¡æ ¸
  â”œâ”€â†’ [å®¡æ‰¹é€šè¿‡] 
  â”‚     â†“ 4. è‡ªåŠ¨åˆ†é…å­¦åˆ†
  â”‚   [å­¦åˆ†è®°å½•åˆ›å»º]
  â”‚     â†“
  â”‚   [é€šçŸ¥æ•™å¸ˆå’Œå­¦å‘˜]
  â”‚
  â””â”€â†’ [å®¡æ‰¹æ‹’ç»]
        â†“
      [é€šçŸ¥æ•™å¸ˆ]
```

### å®ç°ä»£ç ç¤ºä¾‹

**credit-requests.service.ts**:

```typescript
async approve(requestId: string, reviewerId: string, remark?: string) {
  // 1. æ›´æ–°ç”³è¯·çŠ¶æ€
  const request = await this.prisma.creditRequest.update({
    where: { id: requestId },
    data: {
      status: 'APPROVED',
      reviewerId,
      reviewRemark: remark,
      reviewTime: new Date(),
    },
    include: {
      teacher: true,
      user: true,
    },
  });
  
  // 2. åˆ†é…å­¦åˆ†
  await this.creditsService.allocate({
    userId: request.userId,
    amount: request.amount,
    type: 'ADMIN_GRANT',
    remark: `å­¦åˆ†ç”³è¯·å®¡æ‰¹é€šè¿‡ï¼š${request.reason}`,
  });
  
  // 3. å‘é€é€šçŸ¥
  await this.notificationsService.createBatch({
    type: 'CREDIT_APPROVED',
    userIds: [request.teacherId, request.userId],
    title: 'å­¦åˆ†ç”³è¯·å·²é€šè¿‡',
    content: `å­¦åˆ†ç”³è¯·ï¼ˆ${request.amount}å­¦åˆ†ï¼‰å·²å®¡æ‰¹é€šè¿‡`,
  });
  
  return request;
}
```

---

## ğŸš€ å®æ–½æ­¥éª¤

### Phase 1: æ•°æ®åº“æ”¹é€  âœ…

1. ä¿®æ”¹ `prisma/schema.prisma`ï¼š
   - æ·»åŠ  `CreditRequest` æ¨¡å‹
   - æ·»åŠ  `TeacherStudent` æ¨¡å‹
   - æ‰©å±• `Course` æ¨¡å‹ï¼ˆå­¦åˆ†æ ‡å‡†ã€å®¡æ‰¹çŠ¶æ€ï¼‰
   - æ·»åŠ ç›¸å…³æšä¸¾

2. è¿è¡Œæ•°æ®åº“è¿ç§»ï¼š
```bash
npx prisma migrate dev --name add_permission_system
npx prisma generate
```

### Phase 2: æ–°å¢æ¨¡å— ğŸ”§

1. **å­¦åˆ†ç”³è¯·æ¨¡å—** (`credit-requests`):
   - âœ… åˆ›å»ºæ¨¡å—ã€æ§åˆ¶å™¨ã€æœåŠ¡
   - âœ… å®ç° DTO éªŒè¯
   - âœ… å®ç°å®¡æ‰¹æµç¨‹

2. **æ•™å¸ˆ-å­¦å‘˜ç®¡ç†æ¨¡å—** (`teacher-students`):
   - âœ… åˆ›å»ºæ¨¡å—ã€æ§åˆ¶å™¨ã€æœåŠ¡
   - âœ… å®ç°å­¦å‘˜æ³¨å†ŒåŠŸèƒ½
   - âœ… å®ç°å­¦å‘˜ç»‘å®šåŠŸèƒ½

3. **æ‰©å±•æŠ¥è¡¨æ¨¡å—** (`reports`):
   - âœ… æ·»åŠ æ•™å¸ˆä¸“ç”¨æŠ¥è¡¨æ¥å£
   - âœ… å®ç°æ•°æ®æƒé™è¿‡æ»¤

### Phase 3: ä¿®æ”¹ç°æœ‰æ¨¡å— ğŸ”„

1. **credits æ¨¡å—**:
   - âœ… è°ƒæ•´æƒé™æ§åˆ¶
   - âœ… ç§»é™¤æ•™å¸ˆç›´æ¥åˆ†é…å­¦åˆ†æƒé™

2. **courses æ¨¡å—**:
   - âœ… æ·»åŠ å®¡æ‰¹æµç¨‹
   - âœ… æ·»åŠ å­¦åˆ†æ ‡å‡†è®¾ç½®
   - âœ… ç¡®è®¤æ•™åŠ¡æƒé™

3. **users æ¨¡å—**:
   - âœ… æ·»åŠ æ•™å¸ˆæ³¨å†Œå­¦å‘˜åŠŸèƒ½

### Phase 4: å‰ç«¯å¯¹æ¥ ğŸ¨

1. **ç®¡ç†åå°**:
   - âœ… å­¦åˆ†ç”³è¯·å®¡æ‰¹é¡µé¢
   - âœ… è¯¾ç¨‹å®¡æ‰¹é¡µé¢
   - âœ… æ•™å¸ˆç®¡ç†å­¦å‘˜é¡µé¢
   - âœ… è§’è‰²æƒé™æ§åˆ¶ï¼ˆèœå•æ˜¾ç¤ºï¼‰

2. **æ•™å¸ˆç«¯ï¼ˆå¯é€‰ç‹¬ç«‹é¡µé¢ï¼‰**:
   - âœ… æˆ‘çš„å­¦å‘˜åˆ—è¡¨
   - âœ… å­¦åˆ†ç”³è¯·æäº¤
   - âœ… å­¦å‘˜è€ƒå‹¤æŠ¥è¡¨

### Phase 5: æµ‹è¯•å’Œä¼˜åŒ– ğŸ§ª

1. âœ… æƒé™æµ‹è¯•ï¼ˆå„è§’è‰²åŠŸèƒ½éªŒè¯ï¼‰
2. âœ… å®¡æ‰¹æµç¨‹æµ‹è¯•
3. âœ… æ•°æ®æƒé™æµ‹è¯•ï¼ˆæ•™å¸ˆåªèƒ½çœ‹è‡ªå·±çš„å­¦å‘˜ï¼‰
4. âœ… æ€§èƒ½ä¼˜åŒ–ï¼ˆæŠ¥è¡¨æŸ¥è¯¢ä¼˜åŒ–ï¼‰

---

## ğŸ“ é…ç½®å’Œç¯å¢ƒå˜é‡

æ— éœ€é¢å¤–ç¯å¢ƒå˜é‡ã€‚

---

## ğŸ” æ³¨æ„äº‹é¡¹

### 1. æ•°æ®è¿ç§»
- ç°æœ‰å­¦å‘˜éœ€è¦ç»‘å®šåˆ°æ•™å¸ˆï¼Ÿ
- éœ€è¦æä¾›æ‰¹é‡ç»‘å®šåŠŸèƒ½

### 2. å­¦åˆ†ç”³è¯·è§„åˆ™
- å•æ¬¡ç”³è¯·ä¸Šé™ï¼Ÿ
- ç”³è¯·é¢‘ç‡é™åˆ¶ï¼Ÿ
- ç”³è¯·ç†ç”±é•¿åº¦ï¼Ÿ

### 3. è¯¾ç¨‹å®¡æ‰¹
- æ˜¯å¦éœ€è¦å¤šçº§å®¡æ‰¹ï¼Ÿ
- å®¡æ‰¹è¶…æ—¶è‡ªåŠ¨é€šè¿‡ï¼Ÿ

### 4. æ•™å¸ˆæƒé™è¾¹ç•Œ
- æ•™å¸ˆèƒ½å¦æŸ¥çœ‹å…¶ä»–æ•™å¸ˆçš„å­¦å‘˜ï¼Ÿ
- æ•™å¸ˆèƒ½å¦å–æ¶ˆå·²é€šè¿‡çš„å­¦åˆ†ç”³è¯·ï¼Ÿ

---

## âœ… æ£€æŸ¥æ¸…å•

- [ ] Prisma schema æ›´æ–°
- [ ] æ•°æ®åº“è¿ç§»å®Œæˆ
- [ ] `credit-requests` æ¨¡å—åˆ›å»º
- [ ] `teacher-students` æ¨¡å—åˆ›å»º
- [ ] `reports` æ¨¡å—æ‰©å±•
- [ ] `credits` æƒé™è°ƒæ•´
- [ ] `courses` å®¡æ‰¹æµç¨‹
- [ ] å‰ç«¯ç®¡ç†é¡µé¢
- [ ] æƒé™æµ‹è¯•é€šè¿‡
- [ ] æ–‡æ¡£æ›´æ–°

---

**åˆ›å»ºæ—¶é—´**: 2025-11-11  
**é¢„è®¡å·¥æœŸ**: 3-5 å¤©  
**ä¼˜å…ˆçº§**: é«˜






