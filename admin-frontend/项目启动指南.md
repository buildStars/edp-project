# EDP管理后台 - 项目启动指南

## 📦 项目说明

本项目是**北大汇丰EDP管理后台系统**，采用Vue 3 + TypeScript + Element Plus技术栈开发。

已完成功能：
- ✅ 项目基础架构搭建
- ✅ 登录认证系统
- ✅ 权限管理（角色权限/路由守卫）
- ✅ 主布局和菜单系统
- ✅ 首页概览（含数据统计和图表）
- ✅ 完整的路由配置

待开发功能：
- 🚧 资讯管理模块
- 🚧 协会管理模块
- 🚧 课程管理模块
- 🚧 用户管理模块
- 🚧 企业管理模块
- 🚧 报名管理模块
- 🚧 课件管理模块
- 🚧 数据统计模块

## 🚀 快速启动

### 1. 安装依赖

```bash
cd admin-frontend
npm install
```

如果安装较慢，可以使用国内镜像：

```bash
npm config set registry https://registry.npmmirror.com
npm install
```

### 2. 启动开发服务器

```bash
npm run dev
```

启动成功后，访问：**http://localhost:3001**

### 3. 登录系统

**注意**：当前登录功能需要后端支持。如果后端还未实现 `/api/auth/login` 接口，你需要：

#### 方案A：等待后端实现登录接口

后端需要实现以下接口：

```typescript
// POST /api/auth/login
{
  "username": "admin",
  "password": "123456"
}

// 响应
{
  "code": 200,
  "data": {
    "token": "jwt-token-string",
    "user": {
      "id": "1",
      "username": "admin",
      "nickname": "管理员",
      "role": "ADMIN"
    }
  }
}
```

#### 方案B：临时Mock数据（用于前端开发）

如果后端还未准备好，可以在 `src/api/auth.ts` 中临时Mock数据：

```typescript
// 临时Mock登录（开发时使用）
export function login(data: LoginParams) {
  // 模拟请求延迟
  return new Promise<LoginResponse>((resolve) => {
    setTimeout(() => {
      resolve({
        token: 'mock-token-' + Date.now(),
        user: {
          id: '1',
          username: data.username,
          nickname: '管理员',
          role: 'ADMIN',
        },
      })
    }, 500)
  })
}
```

### 4. 构建生产版本

```bash
npm run build
```

构建产物在 `dist/` 目录。

## 📁 项目结构

```
admin-frontend/
├── public/                     # 静态资源
├── src/
│   ├── api/                   # API接口 ✅
│   │   └── auth.ts           # 认证API
│   ├── assets/                # 资源文件
│   │   ├── logo.png          # Logo
│   │   └── styles/           # 样式
│   │       └── index.scss    # 全局样式 ✅
│   ├── layouts/               # 布局组件 ✅
│   │   ├── AdminLayout.vue   # 主布局
│   │   └── components/       # 布局子组件
│   ├── router/                # 路由配置 ✅
│   │   └── index.ts          # 路由定义
│   ├── stores/                # 状态管理 ✅
│   │   └── auth.ts           # 认证状态
│   ├── utils/                 # 工具函数 ✅
│   │   └── request.ts        # Axios封装
│   ├── views/                 # 页面组件
│   │   ├── Login/            # 登录页 ✅
│   │   ├── Dashboard/        # 首页 ✅
│   │   ├── News/             # 资讯管理 🚧
│   │   ├── Associations/     # 协会管理 🚧
│   │   ├── Courses/          # 课程管理 🚧
│   │   ├── Users/            # 用户管理 🚧
│   │   ├── Organizations/    # 企业管理 🚧
│   │   ├── Enrollments/      # 报名管理 🚧
│   │   ├── Materials/        # 课件管理 🚧
│   │   ├── Statistics/       # 数据统计 🚧
│   │   ├── Settings/         # 系统设置 🚧
│   │   └── Error/            # 错误页面 ✅
│   ├── App.vue               # 根组件 ✅
│   └── main.ts               # 入口文件 ✅
├── .env.development           # 开发环境配置
├── .env.production            # 生产环境配置
├── index.html                 # HTML模板 ✅
├── package.json               # 依赖配置 ✅
├── tsconfig.json              # TS配置 ✅
├── vite.config.ts             # Vite配置 ✅
├── README.md                  # 项目说明 ✅
├── 管理后台功能思维导图.md    # 功能设计文档 ✅
└── 项目启动指南.md            # 本文档 ✅
```

## 🎯 开发路线图

### 第一阶段：基础框架 ✅ 已完成
- [x] 项目初始化和配置
- [x] 登录认证系统
- [x] 权限管理
- [x] 主布局和菜单
- [x] 路由配置
- [x] 首页概览

### 第二阶段：核心功能（建议优先开发）
- [ ] 课程管理（最重要）
  - [ ] 课程列表
  - [ ] 创建/编辑课程
  - [ ] 课程审批
  - [ ] 学分配置
- [ ] 用户管理
  - [ ] 用户列表
  - [ ] 用户详情
  - [ ] 课程顾问分配
- [ ] 报名管理
  - [ ] 报名列表
  - [ ] 试听申请审核
  - [ ] 签到管理
  - [ ] 评价管理

### 第三阶段：内容管理
- [ ] 资讯管理
  - [ ] 资讯列表
  - [ ] 发布/编辑资讯
  - [ ] 资讯置顶
- [ ] 协会管理
  - [ ] 协会列表
  - [ ] 活动管理

### 第四阶段：企业功能
- [ ] 企业管理
- [ ] 学分分配
- [ ] 课程分配

### 第五阶段：辅助功能
- [ ] 课件管理
- [ ] 数据统计
- [ ] 系统设置

## 🔧 开发说明

### 1. 添加新页面

创建页面组件：

```bash
# 例如创建资讯列表页
src/views/News/List.vue
```

路由已经配置好，只需创建对应的Vue文件即可。

### 2. API接口对接

在 `src/api/` 下创建对应的API文件：

```typescript
// src/api/news.ts
import { request } from '@/utils/request'

export function getNewsList(params: any) {
  return request.get('/news', { params })
}

export function createNews(data: any) {
  return request.post('/news', data)
}
```

### 3. 状态管理

如需全局状态，在 `src/stores/` 下创建store：

```typescript
// src/stores/news.ts
import { defineStore } from 'pinia'

export const useNewsStore = defineStore('news', () => {
  // 状态和方法
  return {}
})
```

### 4. 组件开发

推荐使用Composition API：

```vue
<template>
  <div class="page-container">
    <!-- 页面内容 -->
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue'

// 数据和方法
const data = ref([])

onMounted(() => {
  // 初始化
})
</script>

<style lang="scss" scoped>
.page-container {
  padding: 20px;
}
</style>
```

## 📊 与后端对接

### 后端API地址

开发环境已配置代理，前端请求 `/api/*` 会自动转发到 `http://localhost:3000`。

如果后端地址不同，请修改 `vite.config.ts`：

```typescript
server: {
  proxy: {
    '/api': {
      target: 'http://your-backend-url',  // 修改为实际后端地址
      changeOrigin: true,
    },
  },
}
```

### 需要后端新增的接口

详见 `管理后台功能思维导图.md` 第四节"后端API需要新增的接口"，主要包括：

1. **认证模块**（优先）
   - `POST /api/auth/login` - 登录
   - `GET /api/auth/profile` - 获取用户信息
   - `POST /api/auth/logout` - 登出

2. **课程管理**（优先）
   - 课程CRUD接口已有
   - 需新增：课程审批接口

3. **用户管理**（优先）
   - `GET /api/users` - 用户列表（管理端）
   - `GET /api/users/:id` - 用户详情
   - `POST /api/users/:id/assign-advisor` - 分配顾问

4. **其他模块**
   - 资讯管理接口
   - 协会管理接口
   - 企业管理接口
   - 报名管理接口
   - 数据统计接口

## 🎨 UI规范

### Element Plus主题

项目使用Element Plus默认主题，主色调为蓝色（#409EFF）。

### 页面布局

统一使用 `.page-container` 类：

```vue
<template>
  <div class="page-container">
    <!-- 内容 -->
  </div>
</template>
```

### 表格页面

标准结构：

```vue
<template>
  <div class="page-container">
    <!-- 搜索栏 -->
    <div class="search-bar">
      <el-form :inline="true">
        <!-- 搜索条件 -->
      </el-form>
    </div>

    <!-- 操作栏 -->
    <div class="table-toolbar">
      <div>
        <el-button type="primary">新建</el-button>
      </div>
      <div>
        <!-- 其他操作 -->
      </div>
    </div>

    <!-- 表格 -->
    <el-table :data="tableData">
      <!-- 列定义 -->
    </el-table>

    <!-- 分页 -->
    <el-pagination />
  </div>
</template>
```

## 🐛 常见问题

### 1. 安装依赖失败

```bash
# 清除缓存
npm cache clean --force

# 删除node_modules
rm -rf node_modules

# 重新安装
npm install
```

### 2. 端口被占用

修改 `vite.config.ts` 中的端口号：

```typescript
server: {
  port: 3002,  // 改为其他端口
}
```

### 3. 后端接口跨域

开发环境已配置代理，生产环境需要后端配置CORS。

### 4. TypeScript报错

检查 `tsconfig.json` 配置，确保包含所有必要的类型声明。

### 5. Element Plus组件未生效

组件已自动导入，如有问题检查 `vite.config.ts` 中的配置。

## 📚 参考资料

- [Vue 3 文档](https://cn.vuejs.org/)
- [TypeScript 文档](https://www.typescriptlang.org/zh/)
- [Element Plus 文档](https://element-plus.org/zh-CN/)
- [Vite 文档](https://cn.vitejs.dev/)
- [Pinia 文档](https://pinia.vuejs.org/zh/)
- [Vue Router 文档](https://router.vuejs.org/zh/)

## 💡 开发建议

1. **优先完成核心功能**：课程管理、用户管理、报名管理
2. **前后端并行开发**：可以先Mock数据进行前端开发
3. **保持代码规范**：使用ESLint和Prettier
4. **组件化思维**：将可复用的部分抽取为组件
5. **类型安全**：充分利用TypeScript的类型检查
6. **及时测试**：开发一个功能就测试一个功能

## 📞 技术支持

如有问题，请查看：
1. `README.md` - 项目说明
2. `管理后台功能思维导图.md` - 功能设计
3. 项目Issues - 已知问题

---

**祝开发顺利！🎉**

**© 2025 北大汇丰EDP项目组**


