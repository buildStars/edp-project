import{d as e,c as s,w as t,e as r,k as o,t as a,f as u,_ as c,A as l,y as n,i as d,z as i}from"./index-Cljxm-NV.js";import{f}from"./util.DiFpgDCN.js";/* empty css                                                                    */import{_}from"./_plugin-vue_export-helper.BCo6x5W8.js";const p=_({__name:"course-card",props:{course:{type:Object,required:!0,default:()=>({})},showRefundButton:{type:Boolean,default:!1},showChapterButton:{type:Boolean,default:!1}},emits:["click","enroll","refund","viewChapters"],setup(_,{emit:p}){const m=_,E=()=>{const{enrollStatus:e,isEnrolled:s,refundStatus:t,enrollmentStatus:r}=m.course;return s?"PENDING"===t?"退课中":"COMPLETED"===r?"已完成":"进行中":"CLOSED"===e?"已截止":"报名"},h=()=>{const{enrollStatus:e,isEnrolled:s,refundStatus:t}=m.course;return"CLOSED"===e||s||"PENDING"===t},b=p,C=()=>{b("click",m.course)},S=()=>{h()||b("enroll",m.course)},k=()=>{b("refund",m.course)},D=()=>{b("viewChapters",m.course)};return(p,m)=>{const b=n,v=d,y=i;return e(),s(v,{class:"course-card",onClick:C},{default:t((()=>[r(v,{class:"course-image"},{default:t((()=>[r(b,{src:_.course.coverImage,mode:"aspectFill"},null,8,["src"]),r(v,{class:"course-credit"},{default:t((()=>[o(a(_.course.credit)+"学分",1)])),_:1})])),_:1}),r(v,{class:"course-info"},{default:t((()=>[r(v,{class:"course-title"},{default:t((()=>[o(a(_.course.title),1)])),_:1}),r(v,{class:"course-teacher"},{default:t((()=>[_.course.teacherAvatar?(e(),s(b,{key:0,src:_.course.teacherAvatar,class:"teacher-avatar"},null,8,["src"])):u("",!0),r(y,null,{default:t((()=>[o(a(_.course.teacherName),1)])),_:1})])),_:1}),r(v,{class:"course-time"},{default:t((()=>{return[o(a((e=_.course.startTime,f(e,"MM月DD日 HH:mm"))),1)];var e})),_:1}),r(v,{class:"course-footer"},{default:t((()=>[r(v,{class:"course-location"},{default:t((()=>[o(a(_.course.location),1)])),_:1}),r(v,{class:"course-actions"},{default:t((()=>[_.showChapterButton&&_.course.isEnrolled?(e(),s(v,{key:0,class:"course-btn btn-chapter",onClick:c(D,["stop"])},{default:t((()=>[o(" 查看章节 ")])),_:1})):u("",!0),_.showRefundButton&&"PENDING"===_.course.refundStatus?(e(),s(v,{key:1,class:"course-btn btn-refunding"},{default:t((()=>[o(" 退课审核中 ")])),_:1})):_.showRefundButton?(e(),s(v,{key:2,class:"course-btn btn-refund",onClick:c(k,["stop"])},{default:t((()=>[o(" 申请退课 ")])),_:1})):_.showChapterButton&&_.course.isEnrolled?u("",!0):(e(),s(v,{key:3,class:l(["course-btn",{"btn-ongoing":_.course.isEnrolled&&"ENROLLED"===_.course.enrollmentStatus,"btn-completed":_.course.isEnrolled&&"COMPLETED"===_.course.enrollmentStatus,"btn-refunding":"PENDING"===_.course.refundStatus,"btn-closed":"CLOSED"===_.course.enrollStatus,disabled:h()}]),onClick:c(S,["stop"])},{default:t((()=>[o(a(E()),1)])),_:1},8,["class"]))])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-0f5ba3aa"]]);export{p as C};
