import{r as a,o as e,C as s,m as l,D as t,b as i,s as c,c as o,w as n,i as u,d,e as r,h as m,j as f,F as _,n as v,f as g,v as y,k as p,t as k,l as b,q as h,p as w}from"./index-CCW0MaS3.js";import{g as x,a as C}from"./association.DOj8Rd0-.js";import{a as z}from"./util.BUrGU9NL.js";import{E as j}from"./empty-view.CjXDJwW7.js";import{I as F}from"./icon.Br2I0aeN.js";import{_ as I}from"./_plugin-vue_export-helper.BCo6x5W8.js";/* empty css                                                                   */const $=I({__name:"index",setup(I){const $=a("alumni"),D=a([{label:"同学会",value:"alumni",icon:"user",badge:""},{label:"俱乐部",value:"club",icon:"association",badge:""},{label:"活动",value:"activity",icon:"star",badge:""}]),T=a([]),A=a([]),M=a([]);e((()=>{q()}));const q=async()=>{s({title:"加载中..."});try{if("activity"===$.value){const a=await x({page:1,pageSize:20});M.value=a.items||a.data||a.list||[]}else{const a=await C($.value),e=Array.isArray(a)?a:a.items||a.data||a.list||[];"alumni"===$.value?T.value=e:A.value=e}}catch(a){console.error("加载数据失败：",a),l({title:"加载失败",icon:"none"})}finally{t()}},E=a=>z(a),G=a=>{b({url:`/pages/association/detail?id=${a.id}&type=${$.value}`})};return i((()=>{q().then((()=>{c()}))})),(a,e)=>{const s=u,l=h,t=w;return d(),o(s,{class:"page"},{default:n((()=>[r(s,{class:"category-tabs"},{default:n((()=>[r(s,{class:"tabs-container"},{default:n((()=>[(d(!0),m(_,null,f(D.value,((a,e)=>(d(),o(s,{key:e,class:y(["tab-item",{active:$.value===a.value}]),onClick:e=>{return s=a.value,$.value=s,void q();var s}},{default:n((()=>[r(s,{class:"tab-icon"},{default:n((()=>[r(F,{name:a.icon,size:40,color:$.value===a.value?"#C8161D":"#999"},null,8,["name","color"])])),_:2},1024),r(l,{class:"tab-label"},{default:n((()=>[p(k(a.label),1)])),_:2},1024),a.badge?(d(),o(s,{key:0,class:"tab-badge"},{default:n((()=>[p(k(a.badge),1)])),_:2},1024)):g("",!0)])),_:2},1032,["class","onClick"])))),128)),r(s,{class:"tab-indicator",style:v({transform:`translateX(${228*D.value.findIndex((a=>a.value===$.value))}rpx)`})},null,8,["style"])])),_:1})])),_:1}),"alumni"===$.value?(d(),o(s,{key:0,class:"association-list"},{default:n((()=>[(d(!0),m(_,null,f(T.value,((a,e)=>(d(),o(s,{key:a.id,class:"association-card",style:v({"animation-delay":.1*e+"s"}),onClick:e=>G(a)},{default:n((()=>[r(s,{class:"card-header"},{default:n((()=>[r(s,{class:"logo-wrapper"},{default:n((()=>[r(t,{src:a.logo,class:"association-logo",mode:"aspectFill"},null,8,["src"]),r(s,{class:"logo-decoration"})])),_:2},1024),r(s,{class:"association-info"},{default:n((()=>[r(s,{class:"association-name"},{default:n((()=>[p(k(a.name),1)])),_:2},1024),a.description?(d(),o(s,{key:0,class:"association-desc"},{default:n((()=>[p(k(a.description),1)])),_:2},1024)):g("",!0),r(s,{class:"association-meta"},{default:n((()=>[r(s,{class:"meta-item"},{default:n((()=>[r(F,{name:"time",size:28,color:"#999"}),r(l,{class:"meta-text"},{default:n((()=>[p(k(E(a.updateTime)),1)])),_:2},1024)])),_:2},1024),r(s,{class:"meta-item"},{default:n((()=>[r(F,{name:"view",size:28,color:"#999"}),r(l,{class:"meta-text"},{default:n((()=>[p(k(a.views||0),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),r(s,{class:"card-footer"},{default:n((()=>[a.tags&&a.tags.length>0?(d(),o(s,{key:0,class:"tag-list"},{default:n((()=>[(d(!0),m(_,null,f(a.tags.slice(0,3),((a,e)=>(d(),o(s,{class:"tag",key:e},{default:n((()=>[p(k(a),1)])),_:2},1024)))),128))])),_:2},1024)):g("",!0),r(F,{name:"arrow-right",size:32,color:"#C8161D",class:"arrow-icon"})])),_:2},1024)])),_:2},1032,["style","onClick"])))),128))])),_:1})):g("",!0),"club"===$.value?(d(),o(s,{key:1,class:"association-list"},{default:n((()=>[(d(!0),m(_,null,f(A.value,((a,e)=>(d(),o(s,{key:a.id,class:"association-card",style:v({"animation-delay":.1*e+"s"}),onClick:e=>G(a)},{default:n((()=>[r(s,{class:"card-header"},{default:n((()=>[r(s,{class:"logo-wrapper"},{default:n((()=>[r(t,{src:a.logo,class:"association-logo",mode:"aspectFill"},null,8,["src"]),r(s,{class:"logo-decoration"})])),_:2},1024),r(s,{class:"association-info"},{default:n((()=>[r(s,{class:"association-name"},{default:n((()=>[p(k(a.name),1)])),_:2},1024),a.description?(d(),o(s,{key:0,class:"association-desc"},{default:n((()=>[p(k(a.description),1)])),_:2},1024)):g("",!0),r(s,{class:"association-meta"},{default:n((()=>[r(s,{class:"meta-item"},{default:n((()=>[r(F,{name:"time",size:28,color:"#999"}),r(l,{class:"meta-text"},{default:n((()=>[p(k(E(a.updateTime)),1)])),_:2},1024)])),_:2},1024),r(s,{class:"meta-item"},{default:n((()=>[r(F,{name:"view",size:28,color:"#999"}),r(l,{class:"meta-text"},{default:n((()=>[p(k(a.views||0),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),r(s,{class:"card-footer"},{default:n((()=>[a.tags&&a.tags.length>0?(d(),o(s,{key:0,class:"tag-list"},{default:n((()=>[(d(!0),m(_,null,f(a.tags.slice(0,3),((a,e)=>(d(),o(s,{class:"tag",key:e},{default:n((()=>[p(k(a),1)])),_:2},1024)))),128))])),_:2},1024)):g("",!0),r(F,{name:"arrow-right",size:32,color:"#C8161D",class:"arrow-icon"})])),_:2},1024)])),_:2},1032,["style","onClick"])))),128))])),_:1})):g("",!0),"activity"===$.value?(d(),o(s,{key:2,class:"activity-list"},{default:n((()=>[(d(!0),m(_,null,f(M.value,((a,e)=>(d(),o(s,{key:a.id,class:"activity-card-enhanced",style:v({"animation-delay":.1*e+"s"}),onClick:e=>(a=>{b({url:`/pages/association/activity-detail?id=${a.id}`})})(a)},{default:n((()=>[r(s,{class:"activity-images-wrapper"},{default:n((()=>[a.images&&a.images.length>0?(d(),o(s,{key:0,class:y(["activity-images",`images-count-${Math.min(a.images.length,4)}`])},{default:n((()=>[(d(!0),m(_,null,f(a.images.slice(0,4),((e,i)=>(d(),o(s,{key:i,class:"image-item"},{default:n((()=>[r(t,{src:e,class:"activity-image",mode:"aspectFill"},null,8,["src"]),3===i&&a.images.length>4?(d(),o(s,{key:0,class:"image-more"},{default:n((()=>[r(l,null,{default:n((()=>[p("+"+k(a.images.length-4),1)])),_:2},1024)])),_:2},1024)):g("",!0)])),_:2},1024)))),128))])),_:2},1032,["class"])):(d(),o(s,{key:1,class:"activity-cover"},{default:n((()=>[r(t,{src:a.coverImage,class:"cover-image",mode:"aspectFill"},null,8,["src"])])),_:2},1024))])),_:2},1024),r(s,{class:"activity-info"},{default:n((()=>[r(s,{class:"activity-title"},{default:n((()=>[p(k(a.title),1)])),_:2},1024),r(s,{class:"activity-meta"},{default:n((()=>[r(s,{class:"meta-left"},{default:n((()=>[r(s,{class:"meta-item"},{default:n((()=>[r(F,{name:"time",size:28,color:"#999"}),r(l,{class:"meta-text"},{default:n((()=>[p(k(E(a.publishTime)),1)])),_:2},1024)])),_:2},1024),r(s,{class:"meta-item"},{default:n((()=>[r(F,{name:"view",size:28,color:"#999"}),r(l,{class:"meta-text"},{default:n((()=>[p(k(a.views||0),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),r(s,{class:"like-badge"},{default:n((()=>[r(F,{name:"like",size:28,color:"#ff6b6b"}),r(l,{class:"like-count"},{default:n((()=>[p(k(a.likes||0),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["style","onClick"])))),128))])),_:1})):g("",!0),0===("alumni"===$.value?T.value:"club"===$.value?A.value:"activity"===$.value?M.value:[]).length?(d(),o(j,{key:3,text:"暂无内容","show-btn":!0,onClick:q})):g("",!0)])),_:1})}}},[["__scopeId","data-v-5ae802bc"]]);export{$ as default};
