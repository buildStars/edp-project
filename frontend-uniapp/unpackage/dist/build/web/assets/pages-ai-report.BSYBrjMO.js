import{J as a,r as t,o as e,C as s,m as l,D as c,O as o,E as i,G as n,c as r,w as u,i as d,d as g,e as f,k as _,t as h,h as m,j as y,F as p,p as v,q as b,U as k,T as w,n as C}from"./index-CCW0MaS3.js";import{_ as M}from"./_plugin-vue_export-helper.BCo6x5W8.js";const D=M({__name:"report",setup(M){const D=t((new Date).getFullYear()),T=t({totalCredits:0,totalCourses:0,totalHours:0,totalDays:0,categoryDistribution:[],abilityData:[],knowledgeSummary:"",knowledgeTags:[],adviceList:[]});e((()=>{P()}));const P=async()=>{s({title:"加载中..."});try{const e=await(t=D.value,a("/api/reports/annual-report",{year:t}));T.value=e,setTimeout((()=>{S()}),500)}catch(e){console.error("加载报告失败：",e),l({title:"加载失败",icon:"none"}),F()}finally{c()}var t},F=()=>{T.value={totalCredits:12,totalCourses:8,totalHours:96,totalDays:16,categoryDistribution:[{name:"加速课堂",count:4,percentage:50},{name:"大师课堂",count:2,percentage:25},{name:"赋能课堂",count:2,percentage:25}],abilityData:[{name:"战略思维",score:85,color:"#C8161D"},{name:"领导力",score:78,color:"#FF6B00"},{name:"创新能力",score:90,color:"#FFB800"},{name:"财务管理",score:72,color:"#52C41A"},{name:"市场营销",score:80,color:"#1890FF"}],knowledgeSummary:"在本年度的学习中，您系统地学习了企业战略管理、领导力提升、创新思维等核心课程，掌握了现代企业管理的关键知识和技能，为企业发展和个人成长奠定了坚实基础。",knowledgeTags:["战略管理","领导力","创新思维","财务分析","市场营销","团队管理","数字化转型"],adviceList:["建议继续加强财务管理方面的学习，提升企业经营决策能力","可以多参与大师课堂，与行业专家深入交流学习","关注数字化转型相关课程，把握时代发展趋势"]},setTimeout((()=>{S()}),500)},S=()=>{const a=o("radarCanvas"),t=300,e=300,s=200,l=T.value.abilityData;if(!l||0===l.length)return;const c=2*Math.PI/l.length;a.setStrokeStyle("#E5E5E5"),a.setLineWidth(1);for(let o=1;o<=5;o++){const s=40*o;a.beginPath();for(let o=0;o<l.length;o++){const l=c*o-Math.PI/2,i=t+s*Math.cos(l),n=e+s*Math.sin(l);0===o?a.moveTo(i,n):a.lineTo(i,n)}a.closePath(),a.stroke()}for(let o=0;o<l.length;o++){const l=c*o-Math.PI/2,i=t+s*Math.cos(l),n=e+s*Math.sin(l);a.beginPath(),a.moveTo(t,e),a.lineTo(i,n),a.stroke()}a.setFillStyle("rgba(200, 22, 29, 0.3)"),a.setStrokeStyle("#C8161D"),a.setLineWidth(2),a.beginPath();for(let o=0;o<l.length;o++){const i=c*o-Math.PI/2,n=l[o].score/100*s,r=t+n*Math.cos(i),u=e+n*Math.sin(i);0===o?a.moveTo(r,u):a.lineTo(r,u)}a.closePath(),a.fill(),a.stroke();for(let o=0;o<l.length;o++){const i=c*o-Math.PI/2,n=l[o].score/100*s,r=t+n*Math.cos(i),u=e+n*Math.sin(i);a.beginPath(),a.arc(r,u,6,0,2*Math.PI),a.setFillStyle("#C8161D"),a.fill()}a.draw()},x=()=>{uni.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]})};return i((()=>({title:`我的${D.value}年度学习报告`,path:"/pages/ai/report",imageUrl:"/static/images/share-report.png"}))),n((()=>({title:`我的${D.value}年度学习报告`,query:"",imageUrl:"/static/images/share-report.png"}))),(a,t)=>{const e=d,s=v,l=b,c=k,o=w;return g(),r(e,{class:"page"},{default:u((()=>[f(e,{class:"report-header"},{default:u((()=>[f(e,{class:"year-text"},{default:u((()=>[_(h(D.value)+"年度",1)])),_:1}),f(e,{class:"title-text"},{default:u((()=>[_("我的学习报告")])),_:1}),f(s,{src:"/h5/static/images/report-bg.png",class:"header-bg",mode:"aspectFill"})])),_:1}),f(e,{class:"section stats-section"},{default:u((()=>[f(e,{class:"section-title"},{default:u((()=>[f(s,{src:"/h5/static/images/stats-icon.png",class:"title-icon"}),f(l,null,{default:u((()=>[_("学习统计")])),_:1})])),_:1}),f(e,{class:"stats-grid"},{default:u((()=>[f(e,{class:"stat-item"},{default:u((()=>[f(e,{class:"stat-value"},{default:u((()=>[_(h(T.value.totalCredits||0),1)])),_:1}),f(e,{class:"stat-label"},{default:u((()=>[_("已学学分")])),_:1})])),_:1}),f(e,{class:"stat-item"},{default:u((()=>[f(e,{class:"stat-value"},{default:u((()=>[_(h(T.value.totalCourses||0),1)])),_:1}),f(e,{class:"stat-label"},{default:u((()=>[_("学习课程")])),_:1})])),_:1}),f(e,{class:"stat-item"},{default:u((()=>[f(e,{class:"stat-value"},{default:u((()=>[_(h(T.value.totalHours||0),1)])),_:1}),f(e,{class:"stat-label"},{default:u((()=>[_("学习时长（小时）")])),_:1})])),_:1}),f(e,{class:"stat-item"},{default:u((()=>[f(e,{class:"stat-value"},{default:u((()=>[_(h(T.value.totalDays||0),1)])),_:1}),f(e,{class:"stat-label"},{default:u((()=>[_("学习天数")])),_:1})])),_:1})])),_:1})])),_:1}),f(e,{class:"section chart-section"},{default:u((()=>[f(e,{class:"section-title"},{default:u((()=>[f(s,{src:"/h5/static/images/chart-icon.png",class:"title-icon"}),f(l,null,{default:u((()=>[_("课程分类")])),_:1})])),_:1}),f(e,{class:"category-list"},{default:u((()=>[(g(!0),m(p,null,y(T.value.categoryDistribution,((a,t)=>(g(),r(e,{key:t,class:"category-item"},{default:u((()=>[f(e,{class:"category-info"},{default:u((()=>[f(e,{class:"category-name"},{default:u((()=>[_(h(a.name),1)])),_:2},1024),f(e,{class:"category-count"},{default:u((()=>[_(h(a.count)+"门课程",1)])),_:2},1024)])),_:2},1024),f(e,{class:"category-progress"},{default:u((()=>[f(e,{class:"progress-bar",style:C({width:a.percentage+"%"})},null,8,["style"])])),_:2},1024),f(e,{class:"category-percentage"},{default:u((()=>[_(h(a.percentage)+"%",1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),f(e,{class:"section radar-section"},{default:u((()=>[f(e,{class:"section-title"},{default:u((()=>[f(s,{src:"/h5/static/images/radar-icon.png",class:"title-icon"}),f(l,null,{default:u((()=>[_("能力雷达")])),_:1})])),_:1}),f(e,{class:"radar-chart"},{default:u((()=>[f(c,{"canvas-id":"radarCanvas",id:"radarCanvas",class:"radar-canvas"})])),_:1}),f(e,{class:"ability-list"},{default:u((()=>[(g(!0),m(p,null,y(T.value.abilityData,((a,t)=>(g(),r(e,{key:t,class:"ability-item"},{default:u((()=>[f(e,{class:"ability-dot",style:C({backgroundColor:a.color})},null,8,["style"]),f(l,{class:"ability-name"},{default:u((()=>[_(h(a.name),1)])),_:2},1024),f(l,{class:"ability-score"},{default:u((()=>[_(h(a.score)+"分",1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),f(e,{class:"section knowledge-section"},{default:u((()=>[f(e,{class:"section-title"},{default:u((()=>[f(s,{src:"/h5/static/images/knowledge-icon.png",class:"title-icon"}),f(l,null,{default:u((()=>[_("知识掌握")])),_:1})])),_:1}),f(e,{class:"knowledge-content"},{default:u((()=>[f(e,{class:"knowledge-text"},{default:u((()=>[_(h(T.value.knowledgeSummary),1)])),_:1}),f(e,{class:"knowledge-tags"},{default:u((()=>[(g(!0),m(p,null,y(T.value.knowledgeTags,((a,t)=>(g(),r(e,{key:t,class:"tag-item"},{default:u((()=>[_(h(a),1)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}),f(e,{class:"section advice-section"},{default:u((()=>[f(e,{class:"section-title"},{default:u((()=>[f(s,{src:"/h5/static/images/advice-icon.png",class:"title-icon"}),f(l,null,{default:u((()=>[_("学习建议")])),_:1})])),_:1}),f(e,{class:"advice-content"},{default:u((()=>[(g(!0),m(p,null,y(T.value.adviceList,((a,t)=>(g(),r(e,{key:t,class:"advice-item"},{default:u((()=>[f(e,{class:"advice-index"},{default:u((()=>[_(h(t+1),1)])),_:2},1024),f(e,{class:"advice-text"},{default:u((()=>[_(h(a),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),f(e,{class:"share-section"},{default:u((()=>[f(o,{class:"share-btn",onClick:x},{default:u((()=>[f(s,{src:"/h5/static/images/share-white.png",class:"share-icon"}),_(" 分享我的报告 ")])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-de1a740b"]]);export{D as default};
