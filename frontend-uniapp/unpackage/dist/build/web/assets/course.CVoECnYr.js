import{y as e,a as t,a5 as r}from"./index-BA-OeFd4.js";const s=e("course",{state:()=>({currentCategory:"",courseList:[],myCourses:{enrolled:[],completed:[]}}),getters:{currentCourseList:e=>e.currentCategory?e.courseList.filter((t=>t.category===e.currentCategory)):e.courseList,upcomingCourses:e=>{const t=Date.now();return e.myCourses.enrolled.filter((e=>{const r=new Date(e.startTime).getTime();return r>t&&r-t<=2592e5}))}},actions:{setCurrentCategory(e){this.currentCategory=e},async fetchCourseList(e={}){try{const r=await t(e),s=r.items||r.data||r.list||[];return 1===e.page?this.courseList=s:this.courseList=[...this.courseList,...s],r}catch(r){throw console.error("获取课程列表失败：",r),r}},async fetchMyCourses(e){try{const t=await r(e);let s=[];if(Array.isArray(t))s=t.map((e=>e.course)).filter((e=>null!==e));else{s=(t.items||t.data||t.list||[]).map((e=>e.course)).filter((e=>null!==e))}return"enrolled"===e?this.myCourses.enrolled=s:"completed"===e&&(this.myCourses.completed=s),t}catch(t){throw console.error("获取我的课程失败：",t),t}},clearCourseList(){this.courseList=[]}}});export{s as u};
