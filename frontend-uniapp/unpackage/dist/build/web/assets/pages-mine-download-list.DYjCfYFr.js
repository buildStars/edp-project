import{r as a,o as e,c as s,w as t,i as l,d as i,e as o,h as c,j as n,F as d,f as u,k as _,t as f,H as r,C as m,D as p,m as h,q as v,p as w}from"./index-CCW0MaS3.js";import{f as g,o as y,d as b}from"./util.BUrGU9NL.js";import{E as k}from"./empty-view.CjXDJwW7.js";import{_ as x}from"./_plugin-vue_export-helper.BCo6x5W8.js";/* empty css                                                                   */const j=x({__name:"download-list",setup(x){const j=a([]);e((()=>{C()}));const C=()=>{j.value=[]};return(a,e)=>{const x=l,C=v,F=w;return i(),s(x,{class:"page"},{default:t((()=>[o(x,{class:"download-list"},{default:t((()=>[(i(!0),c(d,null,n(j.value,(a=>(i(),s(x,{key:a.id,class:"download-item"},{default:t((()=>[o(x,{class:"item-info"},{default:t((()=>[o(x,{class:"item-title"},{default:t((()=>[_(f(a.courseName),1)])),_:2},1024),o(x,{class:"item-meta"},{default:t((()=>[o(C,{class:"item-size"},{default:t((()=>{return[_(f((e=a.fileSize,e?e<1024?e+"B":e<1048576?(e/1024).toFixed(2)+"KB":(e/1048576).toFixed(2)+"MB":"-")),1)];var e})),_:2},1024),o(C,{class:"item-time"},{default:t((()=>[_(f(r(g)(a.downloadTime)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),o(x,{class:"item-actions"},{default:t((()=>[o(x,{class:"action-btn preview-btn",onClick:e=>(a=>{a.localPath?y(a.localPath,a.fileType):(m({title:"加载中..."}),b(a.fileUrl).then((e=>{p(),y(e,a.fileType),a.localPath=e})).catch((()=>{p()})))})(a)},{default:t((()=>[o(F,{src:"/h5/static/images/preview.png",class:"btn-icon"}),o(C,null,{default:t((()=>[_("预览")])),_:1})])),_:2},1032,["onClick"]),o(x,{class:"action-btn download-btn",onClick:e=>(a=>{b(a.fileUrl).then((e=>{h({title:"下载成功",icon:"success"}),a.localPath=e}))})(a)},{default:t((()=>[o(F,{src:"/h5/static/images/download-icon.png",class:"btn-icon"}),o(C,null,{default:t((()=>[_("下载")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128)),0===j.value.length?(i(),s(k,{key:0,text:"暂无下载记录"})):u("",!0)])),_:1})])),_:1})}}},[["__scopeId","data-v-40bca101"]]);export{j as default};
