import{u as e,r as a,c as l,w as s,i as t,d as o,e as c,k as n,v as u,t as r,f as i,m as d,C as m,ao as f,ap as p,a9 as _,aq as v,D as w,a2 as h,q as k,ar as g,as as b,T as x}from"./index-BA-OeFd4.js";import{m as C}from"./util.SBHl27LX.js";import{I as y}from"./icon.DZSIreks.js";import{_ as V}from"./_plugin-vue_export-helper.BCo6x5W8.js";const q=V({__name:"index",setup(V){const q=e();let j="wechat";j="account";const I=a("account"),D=a({username:"",password:"",remember:!1}),T=a(!1),U=e=>{I.value=e},E=async()=>{if(D.value.username)if(D.value.password)if(D.value.password.length<6)d({title:"å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½",icon:"none"});else try{m({title:"ç™»å½•ä¸­..."});const a=await f({username:D.value.username,password:D.value.password,remember:D.value.remember});q.setToken(a.token),q.setUserInfo(a.userInfo);try{await q.fetchCredits()}catch(e){console.error("è·å–å­¦åˆ†å¤±è´¥ï¼š",e)}d({title:"ç™»å½•æˆåŠŸ",icon:"success"}),setTimeout((()=>{p().length>1?_():v({url:"/pages/index/index"})}),1500)}catch(e){console.error("ç™»å½•å¤±è´¥ï¼š",e),d({title:e.msg||"ç™»å½•å¤±è´¥",icon:"none"})}finally{w()}else d({title:"è¯·è¾“å…¥å¯†ç ",icon:"none"});else d({title:"è¯·è¾“å…¥æ‰‹æœºå·æˆ–é‚®ç®±",icon:"none"})},P=()=>{d({title:"è¯·è”ç³»ç®¡ç†å‘˜é‡ç½®å¯†ç ",icon:"none",duration:2e3})},z=()=>{C("40077-20111")},G=()=>{d({title:"ç”¨æˆ·åè®®åŠŸèƒ½å¼€å‘ä¸­",icon:"none"})},L=()=>{d({title:"éšç§æ”¿ç­–åŠŸèƒ½å¼€å‘ä¸­",icon:"none"})};return(e,a)=>{const d=t,m=h,f=k,p=g,_=b,v=x;return o(),l(d,{class:"page"},{default:s((()=>[c(d,{class:"logo-section"},{default:s((()=>[c(d,{class:"logo-placeholder"},{default:s((()=>[n("ğŸ“")])),_:1}),c(d,{class:"app-name"},{default:s((()=>[n("åŒ—å¤§æ±‡ä¸°EDP")])),_:1}),c(d,{class:"app-desc"},{default:s((()=>[n("Executive Development Programs")])),_:1})])),_:1}),c(d,{class:"login-tabs"},{default:s((()=>[c(d,{class:u(["tab-item",{active:"account"===I.value}]),onClick:a[0]||(a[0]=e=>U("account"))},{default:s((()=>[n(" è´¦å·ç™»å½• ")])),_:1},8,["class"]),c(d,{class:u(["tab-item",{active:"wechat"===I.value}]),onClick:a[1]||(a[1]=e=>U("wechat"))},{default:s((()=>[n(" å¾®ä¿¡ç™»å½• ")])),_:1},8,["class"])])),_:1}),"account"===I.value?(o(),l(d,{key:0,class:"form-section"},{default:s((()=>[c(d,{class:"form-item"},{default:s((()=>[c(m,{modelValue:D.value.username,"onUpdate:modelValue":a[2]||(a[2]=e=>D.value.username=e),class:"form-input",placeholder:"è¯·è¾“å…¥æ‰‹æœºå·æˆ–é‚®ç®±",type:"text"},null,8,["modelValue"])])),_:1}),c(d,{class:"form-item"},{default:s((()=>[c(m,{modelValue:D.value.password,"onUpdate:modelValue":a[3]||(a[3]=e=>D.value.password=e),class:"form-input",placeholder:"è¯·è¾“å…¥å¯†ç ",password:!T.value,type:"text"},null,8,["modelValue","password"]),c(f,{class:"show-password",onClick:a[4]||(a[4]=e=>T.value=!T.value)},{default:s((()=>[n(r(T.value?"éšè—":"æ˜¾ç¤º"),1)])),_:1})])),_:1}),c(d,{class:"form-extra"},{default:s((()=>[c(_,{class:"remember-me"},{default:s((()=>[c(p,{checked:D.value.remember,onClick:a[5]||(a[5]=e=>D.value.remember=!D.value.remember)},null,8,["checked"]),c(f,null,{default:s((()=>[n("è®°ä½æˆ‘")])),_:1})])),_:1}),c(f,{class:"forgot-password",onClick:P},{default:s((()=>[n("å¿˜è®°å¯†ç ï¼Ÿ")])),_:1})])),_:1}),c(v,{class:"login-btn primary",onClick:E},{default:s((()=>[n(" ç™»å½• ")])),_:1})])),_:1})):i("",!0),"wechat"===I.value?(o(),l(d,{key:1,class:"login-section"},{default:s((()=>[c(d,{class:"qrcode-box"},{default:s((()=>[c(d,{class:"qrcode-placeholder"},{default:s((()=>[c(f,null,{default:s((()=>[n("è¯·ä½¿ç”¨å¾®ä¿¡æ‰«ç ç™»å½•")])),_:1}),c(f,{class:"qrcode-tip"},{default:s((()=>[n("ï¼ˆåŠŸèƒ½å¼€å‘ä¸­ï¼‰")])),_:1})])),_:1})])),_:1})])),_:1})):i("",!0),c(d,{class:"login-tip"},{default:s((()=>[n(" ç™»å½•å³ä»£è¡¨æ‚¨åŒæ„ "),c(f,{class:"link",onClick:G},{default:s((()=>[n("ã€Šç”¨æˆ·åè®®ã€‹")])),_:1}),n(" å’Œ "),c(f,{class:"link",onClick:L},{default:s((()=>[n("ã€Šéšç§æ”¿ç­–ã€‹")])),_:1})])),_:1}),c(d,{class:"contact-section"},{default:s((()=>[c(d,{class:"contact-item",onClick:z},{default:s((()=>[c(y,{name:"phone",size:40,class:"contact-icon"}),c(f,null,{default:s((()=>[n("å®¢æœç”µè¯ï¼š40077-20111")])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-0d04305c"]]);export{q as default};
