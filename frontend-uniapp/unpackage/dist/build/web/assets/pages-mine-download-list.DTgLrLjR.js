import{r as a,o as e,c as s,w as t,i as l,d as i,e as o,h as c,j as n,F as d,f as u,k as _,t as f,L as r,H as m,I as p,x as h,z as v,y as w}from"./index-Cljxm-NV.js";import{f as y,o as g,d as x}from"./util.DiFpgDCN.js";import{E as b}from"./empty-view.C6sbClhI.js";import{_ as k}from"./_plugin-vue_export-helper.BCo6x5W8.js";/* empty css                                                                   */const j=k({__name:"download-list",setup(k){const j=a([]);e((()=>{C()}));const C=()=>{j.value=[]};return(a,e)=>{const k=l,C=v,F=w;return i(),s(k,{class:"page"},{default:t((()=>[o(k,{class:"download-list"},{default:t((()=>[(i(!0),c(d,null,n(j.value,(a=>(i(),s(k,{key:a.id,class:"download-item"},{default:t((()=>[o(k,{class:"item-info"},{default:t((()=>[o(k,{class:"item-title"},{default:t((()=>[_(f(a.courseName),1)])),_:2},1024),o(k,{class:"item-meta"},{default:t((()=>[o(C,{class:"item-size"},{default:t((()=>{return[_(f((e=a.fileSize,e?e<1024?e+"B":e<1048576?(e/1024).toFixed(2)+"KB":(e/1048576).toFixed(2)+"MB":"-")),1)];var e})),_:2},1024),o(C,{class:"item-time"},{default:t((()=>[_(f(r(y)(a.downloadTime)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),o(k,{class:"item-actions"},{default:t((()=>[o(k,{class:"action-btn preview-btn",onClick:e=>(a=>{a.localPath?g(a.localPath,a.fileType):(m({title:"加载中..."}),x(a.fileUrl).then((e=>{p(),g(e,a.fileType),a.localPath=e})).catch((()=>{p()})))})(a)},{default:t((()=>[o(F,{src:"/h5/static/images/preview.png",class:"btn-icon"}),o(C,null,{default:t((()=>[_("预览")])),_:1})])),_:2},1032,["onClick"]),o(k,{class:"action-btn download-btn",onClick:e=>(a=>{x(a.fileUrl).then((e=>{h({title:"下载成功",icon:"success"}),a.localPath=e}))})(a)},{default:t((()=>[o(F,{src:"/h5/static/images/download-icon.png",class:"btn-icon"}),o(C,null,{default:t((()=>[_("下载")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128)),0===j.value.length?(i(),s(b,{key:0,text:"暂无下载记录"})):u("",!0)])),_:1})])),_:1})}}},[["__scopeId","data-v-40bca101"]]);export{j as default};
