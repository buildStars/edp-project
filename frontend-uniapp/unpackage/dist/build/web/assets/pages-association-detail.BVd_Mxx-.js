import{u as s,r as a,G as t,H as e,x as l,I as c,c as o,w as i,i as n,d as u,e as d,k as f,t as _,f as r,l as m,Q as p,y as v,z as x,M as g,R as y}from"./index-Cljxm-NV.js";import{b as h,c as j,d as b}from"./association.BZuSzsP7.js";import{I as w}from"./icon.DkV2kXZZ.js";import{_ as k}from"./_plugin-vue_export-helper.BCo6x5W8.js";const I=k({__name:"detail",setup(k){const I=s(),P=a({name:"",logo:"",description:"",introduction:""}),z=a("NOT_APPLIED"),C=a(""),D=a("");t((s=>{s.id&&(D.value=s.id,E(s.id),I.isLogin&&A(s.id))}));const E=async s=>{e({title:"åŠ è½½ä¸­..."});try{const a=await h(s);P.value=a}catch(a){console.error("åŠ è½½è¯¦æƒ…å¤±è´¥ï¼š",a),l({title:"åŠ è½½å¤±è´¥",icon:"none"})}finally{c()}},A=async s=>{try{const a=await j(s);z.value=a.status,C.value=a.rejectionReason||""}catch(a){console.error("åŠ è½½åŠ å…¥çŠ¶æ€å¤±è´¥ï¼š",a),z.value="NOT_APPLIED"}},L=async()=>{if(!I.isLogin)return l({title:"è¯·å…ˆç™»å½•",icon:"none"}),void setTimeout((()=>{m({url:"/pages/login/index"})}),1500);p({title:"ç”³è¯·åŠ å…¥",content:`ç¡®è®¤ç”³è¯·åŠ å…¥ã€Œ${P.value.name}ã€å—ï¼Ÿ`,success:async s=>{if(s.confirm)try{e({title:"æäº¤ä¸­..."}),await b(D.value),c(),l({title:"ç”³è¯·å·²æäº¤",icon:"success"}),await A(D.value)}catch(a){c(),l({title:a.msg||"ç”³è¯·å¤±è´¥",icon:"none"})}}})};return(s,a)=>{const t=n,e=v,l=x,c=g,m=y;return u(),o(t,{class:"page"},{default:i((()=>[d(t,{class:"header-section"},{default:i((()=>[d(t,{class:"header-bg"}),d(t,{class:"header-content"},{default:i((()=>[d(t,{class:"logo-container"},{default:i((()=>[d(e,{src:P.value.logo,class:"detail-logo",mode:"aspectFill"},null,8,["src"]),d(t,{class:"logo-glow"})])),_:1}),d(t,{class:"header-info"},{default:i((()=>[d(t,{class:"detail-name"},{default:i((()=>[f(_(P.value.name),1)])),_:1}),d(t,{class:"detail-desc"},{default:i((()=>[f(_(P.value.description),1)])),_:1}),d(t,{class:"header-stats"},{default:i((()=>[d(t,{class:"stat-item"},{default:i((()=>[d(w,{name:"view",size:32,color:"#999"}),d(l,{class:"stat-text"},{default:i((()=>[f(_(P.value.views||0)+" é˜…è¯»",1)])),_:1})])),_:1}),d(t,{class:"stat-item"},{default:i((()=>[d(w,{name:"user",size:32,color:"#999"}),d(l,{class:"stat-text"},{default:i((()=>[f(_(P.value.memberCount||0)+" æˆå‘˜",1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),d(t,{class:"section introduction-section"},{default:i((()=>[d(t,{class:"section-header"},{default:i((()=>[d(t,{class:"section-icon"},{default:i((()=>[d(w,{name:"news",size:40,color:"#C8161D"})])),_:1}),d(t,{class:"section-title-wrapper"},{default:i((()=>[d(l,{class:"section-title"},{default:i((()=>[f("åä¼šä»‹ç»")])),_:1}),d(l,{class:"section-subtitle"},{default:i((()=>[f("Introduction")])),_:1})])),_:1})])),_:1}),d(t,{class:"section-content"},{default:i((()=>[d(c,{nodes:P.value.introduction},null,8,["nodes"])])),_:1})])),_:1}),d(t,{class:"section join-section"},{default:i((()=>[d(t,{class:"section-header"},{default:i((()=>[d(t,{class:"section-icon"},{default:i((()=>[d(w,{name:"user",size:40,color:"#C8161D"})])),_:1}),d(t,{class:"section-title-wrapper"},{default:i((()=>[d(l,{class:"section-title"},{default:i((()=>[f("åŠ å…¥åä¼š")])),_:1}),d(l,{class:"section-subtitle"},{default:i((()=>[f("Join Us")])),_:1})])),_:1})])),_:1}),d(t,{class:"join-content"},{default:i((()=>["NOT_APPLIED"===z.value?(u(),o(t,{key:0,class:"join-info"},{default:i((()=>[d(t,{class:"info-box"},{default:i((()=>[d(t,{class:"info-icon"},{default:i((()=>[f("ğŸ“")])),_:1}),d(t,{class:"info-texts"},{default:i((()=>[d(l,{class:"info-title"},{default:i((()=>[f("ç”³è¯·åŠ å…¥")])),_:1}),d(l,{class:"info-desc"},{default:i((()=>[f("æäº¤ç”³è¯·åï¼Œç®¡ç†å‘˜å°†åœ¨1-3ä¸ªå·¥ä½œæ—¥å†…å®¡æ ¸æ‚¨çš„ç”³è¯·")])),_:1})])),_:1})])),_:1}),d(t,{class:"tip-list"},{default:i((()=>[d(t,{class:"tip-item"},{default:i((()=>[d(w,{name:"check",size:28,color:"#52C41A"}),d(l,{class:"tip-text"},{default:i((()=>[f("å¡«å†™çœŸå®ä¿¡æ¯ï¼Œæœ‰åŠ©äºå¿«é€Ÿé€šè¿‡å®¡æ ¸")])),_:1})])),_:1}),d(t,{class:"tip-item"},{default:i((()=>[d(w,{name:"check",size:28,color:"#52C41A"}),d(l,{class:"tip-text"},{default:i((()=>[f("åŠ å…¥åå¯å‚ä¸åä¼šæ´»åŠ¨å’Œäº¤æµ")])),_:1})])),_:1})])),_:1}),d(m,{class:"btn-join",onClick:L},{default:i((()=>[d(w,{name:"add",size:36,color:"#fff"}),d(l,null,{default:i((()=>[f("ç”³è¯·åŠ å…¥")])),_:1})])),_:1})])),_:1})):"PENDING"===z.value?(u(),o(t,{key:1,class:"join-status-box pending"},{default:i((()=>[d(t,{class:"status-icon"},{default:i((()=>[f("â³")])),_:1}),d(t,{class:"status-text"},{default:i((()=>[d(l,{class:"status-title"},{default:i((()=>[f("ç”³è¯·å®¡æ ¸ä¸­")])),_:1}),d(l,{class:"status-desc"},{default:i((()=>[f("æ‚¨çš„ç”³è¯·æ­£åœ¨å®¡æ ¸ä¸­ï¼Œè¯·è€å¿ƒç­‰å¾…...")])),_:1})])),_:1})])),_:1})):"APPROVED"===z.value?(u(),o(t,{key:2,class:"join-status-box approved"},{default:i((()=>[d(t,{class:"status-icon"},{default:i((()=>[f("âœ…")])),_:1}),d(t,{class:"status-text"},{default:i((()=>[d(l,{class:"status-title"},{default:i((()=>[f("å·²åŠ å…¥åä¼š")])),_:1}),d(l,{class:"status-desc"},{default:i((()=>[f("æ¬¢è¿æˆä¸ºåä¼šæˆå‘˜ï¼")])),_:1})])),_:1})])),_:1})):"REJECTED"===z.value?(u(),o(t,{key:3,class:"join-status-box rejected"},{default:i((()=>[d(t,{class:"status-icon"},{default:i((()=>[f("âŒ")])),_:1}),d(t,{class:"status-text"},{default:i((()=>[d(l,{class:"status-title"},{default:i((()=>[f("ç”³è¯·æœªé€šè¿‡")])),_:1}),d(l,{class:"status-desc"},{default:i((()=>[f(_(C.value||"å¾ˆæŠ±æ­‰ï¼Œæ‚¨çš„ç”³è¯·æœªé€šè¿‡å®¡æ ¸"),1)])),_:1})])),_:1}),d(m,{class:"btn-reapply",onClick:L},{default:i((()=>[f("é‡æ–°ç”³è¯·")])),_:1})])),_:1})):r("",!0)])),_:1})])),_:1}),d(t,{class:"page-footer"})])),_:1})}}},[["__scopeId","data-v-c47de67a"]]);export{I as default};
